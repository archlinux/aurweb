{% extends "partials/layout.html" %}

{% block pageContent %}

    {% if errors %}
        <ul class="errorlist">
            {% for error in errors %}
                <li>{{ error | tr }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="box">
        <h2>{{ "Delete Package" | tr }}: {{ pkgbase.Name }}</h2>

        <p>
            {{
                "Use this form to delete the package base %s%s%s and "
                "the following packages from the AUR: "
                | tr | format("<strong>", pkgbase.Name, "</strong>") | safe
            }}
        </p>

        <ul>
            {% for package in pkgbase.packages.all() %}
                <li>{{ package.Name }}</li>
            {% endfor %}
        </ul>

        <p>
            {{
                "This action will close any pending package requests "
                "related to it. If %sComments%s are omitted, a closure "
                "comment will be autogenerated."
                | tr | format("<em>", "</em>") | safe
            }}
        </p>

        <p>
            {{
                "Deletion of a package is permanent. "
                "Select the checkbox to confirm action." | tr
            }}
        </p>

        <form action="/pkgbase/{{ pkgbase.Name }}/delete" method="post">
            <fieldset>
                <input type="hidden" name="next" value="{{ next }}" />

                <p>
                    <label for="id_comments">{{ "Comments" | tr }}:</label>
                    <textarea id="id_comments" name="comments"
                              rows="5" cols="50" maxlength="{{ max_chars_comment }}"
                              placeholder="Related package request closure comments..."
                    ></textarea>
                </p>

                <p>
                    <label class="confirmation">
                        <input type="checkbox" name="confirm" value="1" />
                        {{ "Confirm package deletion" | tr }}
                    </label>
                </p>

                <p>
                    <input class="button"
                           type="submit"
                           value="{{ 'Delete' | tr }}"
                    />
                </p>
            </fieldset>
        </form>

    </div>
{% endblock %}
